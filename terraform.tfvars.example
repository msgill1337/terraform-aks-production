# Azure Subscription ID - Required
# Can also be set via ARM_SUBSCRIPTION_ID environment variable
subscription_id = "your-subscription-id-here"

vnet_resource_group_config = {
    name = "tf-aks-networking-rg"
    location = "canadacentral"
}

vnet_configuration = {
    name = "tf-aks-vnet01"
    address_space = ["100.0.0.0/8"]
}

subnet_configuration = [
    {
        name = "prod-aks-subnet01"
        address_prefixes = ["100.0.0.0/24"]
    },
    {
        name = "prod-user-subnet01"
        address_prefixes = ["100.1.0.0/24"]
    }
]

tags = {
    orchestrator = "terraform"
    appName = "testApp"
    environment = "dev"
}

nsg_configuration = {
    name = "AKS-PROD"
}

nsg_rules = [
    {
      name = "DenyInbound-BasicRule"
      priority = 100
      direction = "Inbound"
      access = "Allow"
      protocol = "Tcp"
      source_port_range = "*"
      destination_port_range = "*"
      source_address_prefix = "*"
      destination_address_prefix = "*"
    },
    {
      name = "DenyOutBound-BasicRule"
      priority = 100
      direction = "Outbound"
      access = "Allow"
      protocol = "Tcp"
      source_port_range = "*"
      destination_port_range = "*"
      source_address_prefix = "*"
      destination_address_prefix = "*"
    }
]

kubernetes_cluster_configuration = {
    name = "PROD-AKS-CLUSTER01"
    dns_prefix = "testmg"
    kubernetes_version = "1.34.1"
    default_node_pool = {
        name = "prodnpl01"
        node_count = 1
        vm_size = "Standard_D2_v2"
        auto_scaling_enabled = true
        type = "VirtualMachineScaleSets"
        min_count = 1
        max_count = 1
    }
    identity = {
        type = "SystemAssigned"
    }
    azure_active_directory_role_based_access_control = {
        azure_rbac_enabled = true
        tenant_id = "your-azure-ad-tenant-id-here"  # Required: Your Azure AD tenant ID
    }
}

kubernetes_node_pool_configuration = {
    name = "usernpl01"
    vm_size = "Standard_D2_v2"
    node_count = 1
    auto_scaling_enabled = true
    max_count = 1
    min_count = 1
    zones = ["1", "2"]
}

aks_resource_group_config = {
    name = "aks-cluster-rg"
    location = "canadacentral"
}

log_analytics_workspace_config = {
    name = "aks-log-analytics-workspace01"
    sku = "PerGB2018"
    retention_in_days = 30
}

law_resource_group_config = {
    name = "prod-law-rg01"
    location = "canadacentral"
}

acr_resource_group_config = {
    name = "acr_rg01"
    location = "canadacentral"
}

acr_config = {
    name = "acrprod01mg1337"  # Note: ACR names must be globally unique and lowercase alphanumeric
    sku = "Premium"
    admin_enabled = false
    georeplications = [
        {
            location = "East US"
            zone_redundancy_enabled = true
        },
        {
            location = "North Europe"
            zone_redundancy_enabled = true
        }
    ]
}

acr_role_assignment = {
    role_definition_name = "AcrPull"
    skip_service_principal_aad_check = true
}



